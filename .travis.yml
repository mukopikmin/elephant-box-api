language: ruby
rvm:
  - 2.5.1
cache: bundler
addons:
  code_climate:
    repo_token: 0bef4d157d44f20ce4fef62d2618e8e0b3bbc2d4c7ae9c862e1a83f461d3e64b
before_install: gem install bundler -v 1.16.5
script: 
  - bundle exec rake spec
  - bundle exec rake rubocop 
after_success:
  - if [ "$TRAVIS_BRANCH" = "master" ]; then bundle exec codeclimate-test-reporter; fi || travis_terminate 1
notifications:
  email: false
  slack:
    secure: 9Tq3TPu2i6lUB9FW1phl8CfI9KS8yyH/QVyt5zlVFwcL0GP5prG//2Fx6S4HyLcy+oeHjkuDWUziHfFOQmfqKrTknlvVcf5xL4gJADeNXJ+HqqKz5na9VOXruLbiSQsBpXMlygmCgywktmqKXo8LYDaosbOPzSHBXT3qz4qCMhLy/B/U40zca2kE6vxUA/ISk+aTNjTqqERVlBpMl3IKzUKWxN/oHhfVwvYcPZb8Kpyya09q4GPuMOJB+R0hltxAa1cras5wRYfEtjNIkbXFELgCOAZKAiK0688uKXrcfM5UjjhC55OcE0dtllE0G/sBkikZ9Zt1UTqxDWY6HjrXyw1aCpt4g8mjvWKiza7AnkaJpBDFD4Xxnbm1G9+jbjdzxhAEN2Uz/po5SqSXYqjJbF5Bpe2SEJltXnKY6iwJ1sO0OedhWn4TI2+fhEhuGeIkYeHNTAgbvv/l1YlLOyTMJ8YlXsFvL9l2Zq2v0CB7V85ceIa59coDfth50zW7m1PSjiEaUQ2I/cyggTv4N+uBzclijkaFxTSx+xqC2lWLU0+JL82FtqU+X6hrxsNFEFFb3DOj5WHwOUaQDjskrrbxrp0/xDl2vWni1I+KGRdSb8oVg71kGCg6YS1d7p0qC9G8RYUNBodYn15CiC3DHWpP0Vjlb6Vi1q2EBqscldeGKXU=
deploy:
  provider: heroku
  app:
    master: refrii-api
    staging: refrii-api-staging
  run:
    - rake db:migrate
  api_key:
    secure: 3tbl43b9VCTHuoDv/WYXCKuV61LYwoq7O9bXMV4u0nPWqDattTOtQpAnlt8dTXUOvfYliVG0Wd3Rr2K/YRSA+07sXXyG012vY8rnP7X1+gL6Ct+dcW8zzwbo8YkTihXjI4rhEUlRloPqt0TEgmpYExCDQqTiSBSZjq/LuXmX+LHjDeZKOLkqewSTyh4IDblSKMzc5K9RIOa1WoN4T3533itadLX3xfej8YMK1kDqalu0E73xOzVnoIyaB9oXu+YnwBdVsL5ZzNCdRqlVz2g907AnIpsxVPgqx1cDKbuzylr5xDo+8tiDIaIqHZbhi37nXUiEjO25mOimb8G+yOGVES3mOyqyoiM5UbEBdkt8sRG+beOBi1TtrDDR/WA0P4EoVzBrqlftqILtRPXiBmzmDfW8RtrUFg+fK9xIte3g2Bjda84vKBgOeXtCuF9qPDM8CwSlW/UGNRHz1wkn9Ws9w5hPrQFqvRikISpYnZGcJiZbk0fUBi6IpKCgelKQDRfUMr6qk3hQX1digzYo8Zn11Td70mYCfYx1VZFoqocFIU4K1GagI6YBJZt7IQC1a7VCXiKedwqDMIS9VYheEfsUIKDBQL/Q/kM2W0D1USxzgDsGL1oq3w1Xvm2FKvuif9BC49QNNeW8fnvao9MMbsgDl6MIY+mFmX3GS5y8mlE9jOk=
      
